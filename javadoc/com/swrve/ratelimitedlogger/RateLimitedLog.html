<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Thu Feb 05 21:13:24 IST 2015 -->
<title>RateLimitedLog (rate-limited-logger 1.0 API)</title>
<meta name="date" content="2015-02-05">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RateLimitedLog (rate-limited-logger 1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/swrve/ratelimitedlogger/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/swrve/ratelimitedlogger/CounterMetric.html" title="interface in com.swrve.ratelimitedlogger"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLogBuilder.html" title="class in com.swrve.ratelimitedlogger"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/swrve/ratelimitedlogger/RateLimitedLog.html" target="_top">Frames</a></li>
<li><a href="RateLimitedLog.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.swrve.ratelimitedlogger</div>
<h2 title="Class RateLimitedLog" class="title">Class RateLimitedLog</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.swrve.ratelimitedlogger.RateLimitedLog</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@ThreadSafe
public class <span class="strong">RateLimitedLog</span>
extends java.lang.Object</pre>
<div class="block">An SLF4J-compatible API for rate-limited logging.  Example usage:
 <p/>
 <pre>
    private static final Logger logger = LoggerFactory.getLogger(getClass());
    private static final RateLimitedLog rateLimitedLog = RateLimitedLog.withRateLimit(logger)
             .maxRate(10).every(10, TimeUnit.SECONDS)
             .build();
 </pre>
 <p/>
 This will wrap an existing SLF4J Logger object, allowing a max of 10 messages to be output every 10 seconds,
 suppressing any more than that.  When a log is suppressed, at the end of the 10-second period, another
 log message is output indicating how many logs were hidden.  This style of rate limiting is the same as the
 one used by UNIX syslog, so should be comprehensible, easy to predict, and familiar to many users, unlike
 more complex adaptive rate limits.
 <p/>
 Each log message has its own internal rate limiting counter.  In other words, if you have 2 log messages, you can
 safely reuse the same RateLimitedLog object to log both, and the rate of one will not caused the other to
 be suppressed as a side effect. However, this means that if you wish to include dynamic, variable data in the log
 output, you will need to use SLF4J-style templates, instead of ("foo " + bar + " baz") string interpolation.
 For example:
 <p/>
 <pre>
    rateLimitedLog.info("Just saw an event of type {}: {}", event.getType(), event);
 </pre>
 <p/>
 "{}" will implicitly invoke an object's toString() method, so toString() does not need
 to be called explicitly when logging.  (This has obvious performance benefits, in that
 those toString() methods will not be called at all once the rate limits have been exceeded.)
 <p/>
 Where performance is critical, note that you can obtain a reference to the RateLimitedLogWithPattern object
 for an individual log template, which will avoid a ConcurrentHashMap lookup.
 <p/>
 The RateLimitedLog objects are thread-safe.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLog.html#debug(java.lang.String,%20java.lang.Object...)">debug</a></strong>(java.lang.String&nbsp;template,
     java.lang.Object...&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLog.html#error(java.lang.String,%20java.lang.Object...)">error</a></strong>(java.lang.String&nbsp;template,
     java.lang.Object...&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLogWithPattern.html" title="class in com.swrve.ratelimitedlogger">RateLimitedLogWithPattern</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLog.html#get(java.lang.String)">get</a></strong>(java.lang.String&nbsp;message)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLog.html#info(java.lang.String,%20java.lang.Object...)">info</a></strong>(java.lang.String&nbsp;template,
    java.lang.Object...&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLog.html#trace(java.lang.String,%20java.lang.Object...)">trace</a></strong>(java.lang.String&nbsp;template,
     java.lang.Object...&nbsp;args)</code>
<div class="block">logging APIs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLog.html#warn(java.lang.String,%20java.lang.Object...)">warn</a></strong>(java.lang.String&nbsp;template,
    java.lang.Object...&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../com/swrve/ratelimitedlogger/RateLimitedLogBuilder.MissingRateAndPeriod.html" title="class in com.swrve.ratelimitedlogger">RateLimitedLogBuilder.MissingRateAndPeriod</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLog.html#withRateLimit(org.slf4j.Logger)">withRateLimit</a></strong>(org.slf4j.Logger&nbsp;logger)</code>
<div class="block">Start building a new RateLimitedLog, wrapping the SLF4J logger @param logger.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="withRateLimit(org.slf4j.Logger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withRateLimit</h4>
<pre>public static&nbsp;<a href="../../../com/swrve/ratelimitedlogger/RateLimitedLogBuilder.MissingRateAndPeriod.html" title="class in com.swrve.ratelimitedlogger">RateLimitedLogBuilder.MissingRateAndPeriod</a>&nbsp;withRateLimit(org.slf4j.Logger&nbsp;logger)</pre>
<div class="block">Start building a new RateLimitedLog, wrapping the SLF4J logger @param logger.</div>
</li>
</ul>
<a name="trace(java.lang.String, java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trace</h4>
<pre>public&nbsp;void&nbsp;trace(java.lang.String&nbsp;template,
         java.lang.Object...&nbsp;args)</pre>
<div class="block">logging APIs.
 <p/>
 These can use the SLF4J style of templating to parameterize the Logs.
 See http://www.slf4j.org/api/org/slf4j/helpers/MessageFormatter.html .
 <p/>
 <pre>
    rateLimitedLog.info("Just saw an event of type {}: {}", event.getType(), event);
 </pre></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>template</code> - the format string</dd><dd><code>args</code> - the list of arguments matching the template</dd></dl>
</li>
</ul>
<a name="debug(java.lang.String, java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>debug</h4>
<pre>public&nbsp;void&nbsp;debug(java.lang.String&nbsp;template,
         java.lang.Object...&nbsp;args)</pre>
</li>
</ul>
<a name="info(java.lang.String, java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>info</h4>
<pre>public&nbsp;void&nbsp;info(java.lang.String&nbsp;template,
        java.lang.Object...&nbsp;args)</pre>
</li>
</ul>
<a name="warn(java.lang.String, java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>warn</h4>
<pre>public&nbsp;void&nbsp;warn(java.lang.String&nbsp;template,
        java.lang.Object...&nbsp;args)</pre>
</li>
</ul>
<a name="error(java.lang.String, java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>error</h4>
<pre>public&nbsp;void&nbsp;error(java.lang.String&nbsp;template,
         java.lang.Object...&nbsp;args)</pre>
</li>
</ul>
<a name="get(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../com/swrve/ratelimitedlogger/RateLimitedLogWithPattern.html" title="class in com.swrve.ratelimitedlogger">RateLimitedLogWithPattern</a>&nbsp;get(java.lang.String&nbsp;message)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a RateLimitedLogWithPattern object for the supplied @param message.  This can be cached and
 reused by callers in performance-sensitive cases to avoid performing a ConcurrentHashMap lookup.
 <p/>
 Note that the string is the sole key used, so the same string cannot be reused with differing period
 settings; any periods which differ from the first one used are ignored.
 <p/></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if we exceed the limit on number of RateLimitedLogWithPattern objects
 in any one period; if this happens, it's probable that an already-interpolated string is
 accidentally being used as a log pattern.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/swrve/ratelimitedlogger/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/swrve/ratelimitedlogger/CounterMetric.html" title="interface in com.swrve.ratelimitedlogger"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/swrve/ratelimitedlogger/RateLimitedLogBuilder.html" title="class in com.swrve.ratelimitedlogger"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/swrve/ratelimitedlogger/RateLimitedLog.html" target="_top">Frames</a></li>
<li><a href="RateLimitedLog.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
